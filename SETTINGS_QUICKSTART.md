# 🚀 設定系統快速開始

## 5 分鐘快速設定指南

### 步驟 1：啟動系統

```bash
npm start
```

### 步驟 2：訪問設定頁面

打開瀏覽器，訪問：
```
http://localhost:3000/settings
```

或者從首頁點擊右上角的齒輪圖示 🔧

### 步驟 3：配置 LINE Bot 1（必填）

在「Bot 1 (主要 Bot)」區塊填入：

1. **Channel Access Token**
   - 從 LINE Developers Console 取得
   - 格式：長字串，約 170 個字元

2. **Channel Secret**
   - 從 LINE Developers Console 取得
   - 格式：32 個字元的字串

3. **管理員 LINE User ID**
   - 您的 LINE User ID
   - 格式：U 開頭的字串（例如：U1234567890abcdef）

### 步驟 4：配置 Bot 2（選填，節省費用）

如果您想節省 LINE API 費用：

1. ✅ 勾選「啟用 Bot 2」
2. 填入第二個 Bot 的 Token 和 Secret
3. 在「訊息發送策略」區塊：
   - ✅ 勾選「啟用負載平衡」
   - 選擇策略：**輪詢 (Round Robin)** （推薦）
   - ✅ 勾選「失敗時回退到主要 Bot」

### 步驟 5：儲存設定

1. 點擊頁面底部的「💾 儲存所有設定」按鈕
2. 等待成功訊息
3. 重新啟動系統（按 Ctrl+C 然後再執行 `npm start`）

### 步驟 6：測試連線（建議）

1. 在設定頁面點擊「🔌 測試連線」
2. 確認所有 Bot 都顯示「成功」
3. 開始使用系統！

---

## 💰 快速啟用省錢模式

想立即節省 LINE API 費用？只需 3 步：

### 第 1 步：建立第二個 LINE Bot
- 訪問：https://developers.line.biz/
- 建立新的 Messaging API Channel
- 取得 Token 和 Secret

### 第 2 步：在設定頁面啟用
```
✅ 啟用 Bot 2
✅ 啟用負載平衡
策略：輪詢 (Round Robin)
✅ 失敗時回退到主要 Bot
```

### 第 3 步：儲存並重啟
```bash
# 儲存設定後，重新啟動
Ctrl+C
npm start
```

**完成！現在訊息會自動分配到兩個 Bot，節省最多 50% 費用！**

---

## 🔍 檢查設定是否生效

### 方法 1：查看日誌
```bash
# 啟動系統後查看日誌
# 應該能看到：
📋 系統配置摘要:
==================================================
🌐 伺服器端口: 3000
🔗 系統 URL: http://localhost:3000
🤖 LINE Bot: ✅ 已配置
👤 管理員 ID: ✅ 已設定
==================================================
```

### 方法 2：測試連線
在設定頁面點擊「測試連線」，結果應該是：
```
✅ Bot 1: 成功
✅ Bot 2: 成功 (如已啟用)
✅ Google Sheets: 成功
```

### 方法 3：實際測試
發送一則 LINE 訊息給 Bot，檢查是否正常回應。

---

## ⚠️ 常見錯誤及解決

### 錯誤 1：「LINE_CHANNEL_ACCESS_TOKEN 未設定」

**解決方法**：
1. 確認已填入 Bot 1 的 Token
2. 點擊儲存按鈕
3. 重新啟動系統

### 錯誤 2：「測試連線失敗」

**可能原因**：
- Token 或 Secret 錯誤
- Bot 已被停用
- 網路連線問題

**解決方法**：
1. 重新檢查 Token/Secret 是否正確
2. 訪問 LINE Developers Console 確認 Bot 狀態
3. 檢查網路連線

### 錯誤 3：「設定頁面無法打開」

**解決方法**：
```bash
# 確認系統是否正在運行
npm start

# 確認端口是否正確
# 預設應該是 http://localhost:3000/settings
```

---

## 📚 更多資訊

- 📖 完整指南：`SETTINGS_GUIDE.md`
- 🔧 配置說明：`CONFIG_GUIDE.md`
- 🤖 雙 Bot 設定：`DUAL_BOT_SETUP.md`

---

## 💡 小提示

1. **先測試，後使用**
   - 每次修改設定後都測試連線
   - 確保所有功能正常才開始使用

2. **備份很重要**
   - 系統會自動備份設定
   - 但建議定期手動備份 `.env` 文件

3. **善用省錢模式**
   - 如果訊息量大，一定要啟用雙 Bot
   - 可以節省大量 API 費用

4. **關注日誌**
   - 日誌會顯示重要資訊
   - 出現問題時優先查看日誌

---

**準備好了嗎？現在就開始設定吧！** 🚀

